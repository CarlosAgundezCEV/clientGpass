<!DOCTYPE html>
<html>
<head>
	<title>Register Front</title>
	<meta charset="utf-8"
	<link rel="stylesheet" type="text/css" href="main.css">

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

</head>
<body>
	<h1 id='header'>Register Users</h1>

	<div class="form-group">
	 	<label for="name">Name:</label>
		<input type="name" class="form-control" id="name">
	</div>

	</br>

  	<div class="form-group">
   	 	<label for="email">Email:</label>
    	<input type="email" class="form-control" id="email">
  	</div>

  	</br>

  	<div class="form-group">
    	<label for="pass">Password:</label>
    	<input type="password" class="form-control" id="pass">
 	</div>

 	<br>

	<button id='button'>Add User</button>
</body>
<script type="text/javascript">
	$(document).ready(function() {
		$('#button').click(function(){
			addUser();
		});
	});

	function addUser(){
		var name = document.getElementById("name").value;
		console.log(name);
		var email = document.getElementById("email").value;
		console.log(email);
		var pass = document.getElementById("pass").value;
		console.log(pass);
		$.ajax({
			url: "http://localhost:8888/gpassCAT/public/api/user/register",
			type: 'POST',
			data:{
				'name': name, 
				'email': email, 
				'password': pass
			},
			success: function(response){

				var tokenRegister = response.tokenRegister;
				localStorage.setItem("tokenRegister",tokenRegister);
				console.log(response);
			},
			error: function(response){
				console.log(response);
			}
		});
	}
	
</script>
</html>